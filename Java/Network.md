# Network

## Network

### 네트워크란?

> 케이블이나 전화선으로 연결된 두 대의 컴퓨터가 데이터를 전송하기위한 원거리 통신망

* 지역적으로 분산된 위치에서 컴퓨터 시스템 간에 데이터 통신을 하기 위한 **디바이스** 및 소프트웨어 집단
  * 디바이스란, 컴퓨터 뿐 아니라 프린터, 웹서버, 휴대폰 등 다양한 형태로 존재
  * 디바이스를 통해 언제 어디서든 네트워크를 이용할 수 있음
* 특정 서비스를 제공해주는 다양한 디바이스들이 네트워크로 연결되고 있고 서비스 이용자가 네트워크를 통해 서비스를 검색하고 이용할 수 있음
* 네트워크(Network)
  * 통신 경로들에 의해 상호 연결된 일련의 지점(Point)들이나 노드(Node)들을 의미함
* 네트워킹(Networking)
  * 네트워크에 연결된 디바이스들 간의 데이터 교환을 의미함

#### Protocol

* 일종의 통신규약으로, 컴퓨터 간에 통신을 하기 위한 약속과 절차를 의미함

* 데이터 통신에서는 통신 장치 간의 데이터 교환에 필요한 모든 규약의 집합체

* 물리적 측면

  * 데이터 전송에 사용되는 전송 매체, 접속용 커넥터 및 전송 신호

* 논리적 측면

  * 데이터의 표현, 의미와 기능, 데이터 전송 절차

* 서로 다른 부호체계를 사용하는 장치 간의 원활한 통신을 위해 **부호의 일치는 필수적**임

* 전송하는 **데이터 형식, 신호의 코딩방식, 신호의 전기적 특성, 데이터 흐름 제어** 등은 약속을 철저하게 준수하지 않으면 근본적으로 통신이 이루어질 수 없음

* 패킷(Packet)

  * 1024비트씩 묶여있는 데이터 묶음
  * 묶음 속에 각종 에러 검사용 정보를 담아 보내기 때문에 어느 패킷에서 에러가 발생했는지 알 수 있음
  * 전송 도중 에러가 발생하면 전체 데이터를 다시 전송하지 않고 해당 묶음만 다시 전송하기 때문에 속도가 빠름
  * 패킷의 구성
    * 헤더(Header)
      * 송신자와 수신자의 주소 정보
      * 패킷이 손상되지 않았음을 보장하기 위한 checksum
      * 네트워크로 전송할 때 필요한 기타 유용한 정보
    * 바디(Body)
      * 바이트 그룹으로 묶인 전송할 데이터
  * 많은 데이터를 하나의 패킷으로 묶어서 전송할 수 있으므로 매우 효율적임

* 네트워크 구조 OSI 7계층

  * 네트워크 장비끼리 서로 표준적인 연결을 할 수 있도록 틀을 제공하기 위함
    * 개방형 시스템 환경에서는 어떤 장비라도 상호 정보처리가 가능하게 됨
    * 네트워크의 프로토콜을 분리함으로써 프로토콜이 단순해짐
      * 관리가 쉬워지고 좀 더 유연한 구조가 됨

  | 계층  | 내용                                                  |
  | ----- | ----------------------------------------------------- |
  | 7계층 | 애플리케이션 계층(NFS, FTP, HTTP)                     |
  | 6계층 | 프레젠테이션 계층(XDE, XML, ASCI, Java Serialization) |
  | 5계층 | 세션 계층(Sun RPC, DCE RPC, IIOP, RMI)                |
  | 4계층 | 트랜스포트 계층(TCP, UDP)                             |
  | 3계층 | 네트워크 계층(IP)                                     |
  | 2계층 | 데이터 링크 계층(Wire formats for messages)           |
  | 1계층 | 물리 계층(Wires, signaling)                           |

  * 1계층
    * 노드(Node) 간 네트워크 통신을 하기 위한 가장 저수준의 계층
    * 상위 계층인 데이터 링크 계층에서 형성된 데이터 패킷을 전기 신호나 광신호로 바꾸어 송수신하는 역할을 담당함
    * Java 개발자가 직접 접근할 수 있는 계층이 아니고 하드웨어나 드라이버 개발자들이 C 언어 등으로 다룸
  * 2계층
    * 네트워크 계층으로부터의 메시지를 비트로 변환해서, 물리 계층이 전송할 수 있게 함
    * 메시지를 데이터 프레임의 포맷으로 만들고, 수신지와 발신지 하드웨어 주소를 포함하는 헤더를 추가함
  * 3계층
    * 다른 장소에 위치한 두 시스템 간의 연결성과 경로 선택을 제공함
    * 라우팅 프로토콜을 사용하여 서로 연결된 네트워크를 통한 최적의 경로를 선택하며, 선택된 경로를 따라 정보를 보냄
  * 4계층
    * 데이터 전송 서비스를 제공함
    * 네트워크 내에서 신뢰성 있는 서비스를 제공하기 위해 가상 회로 구축, 유지와 종료, 전송 오류 검출과 복구 그리고 정보 흐름 제어의 절차를 제공함
  * 5계층
    * 애플리케이션 간 세션을 구축하고 관리하며 종료시키는 역할을 함
    * 프레젠테이션 계층 사이의 통신을 동기화시키며 데이터 교환을 관리함
  * 6계층
    * 한 시스템의 애플리케이션에서 보낸 정보를 다른 시스템의 애플리케이션 계층에서 읽을 수 있게 하는 곳임
  * 7계층
    * 사용자와 컴퓨터가 통신하는 곳임
    * 통신하고자 하는 상대를 식별하고 그 상대와의 통신을 확보하는 역할을 함
    * 통신을 위한 충분한 자원을 보유하고 있는지의 여부를 판단함.

### 프로그램 관계모델

#### Client / Server model

* 클라이언트 / 서버 모델은 현재 네트워크 컴퓨팅의 중심개념
* 서비스를 요청하는 Client 프로그램과 그 요청에 대해서 서비스를 제공하는 Server 프로그램 사이의 상호 통신하는 관계
* 네트워크 상의 서로 다른 컴퓨터에 분산되어 있는 프로그램들이 서로 효율적으로 통신할 수 있는 환경을 제공
* 인터넷의 기본 프로그램인 TCP / IP도 클라이언트 / 서버 모델을 사용하여 구현됨
* 웹 브라우저
  * 일종의 클라이언트 프로그램
  * 특정 웹서버에게 웹페이지 또는 파일 전송을 요청하고 서버의 응답 결과를 출력하는 일을 수행함
* TCP / IP가 설치된 컴퓨터
  * TCP / IP가 설치된 컴퓨터에서는 인터넷 상의 다른 컴퓨터의 FTP(File Transfer Protocol) 서버들에게 파일 전송을 요청할 수 있음

#### Peer-to-peer model

* 클라이언트 / 서버 모델과 대비되는 모델이며 일반적으로 P2P라는 용어로 사용됨
* 클라이언트 / 서버 환경
  * 서비스 제공자와 서비스 수요자가 명확하게 구분됨
  * 서비스 제공자인 서버가 서비스 수요자인 클라이언트에게 일방적으로 서비스를 제공함
    * 서버는 한 대인데, 수많은 클라이언트가 서버에 접속하여 서비스를 요청한다면 당연히 부하가 발생할 수 밖에 없음
* P2P
  * 하나의 사용자가 서버이자 클라이언트 역할을 수행함
  * 네트워크에 연결되어 있는 모든 컴퓨터들이 서로 대등한 동료의 입장에서 데이터나 주변 장치 등을 공유할 수 있다는 것을 의미함
    * 하나의 서버로 집중되는 요청으로 인해 발생하는 부하를 줄일 수 있음

#### Internet

* 미 국방성이 중심이 되어 패킷 통신망을 개발하게 된 ARPANET이 시초
* TCP / IP 라는 프로토콜을 사용하는 수많은 컴퓨터들이 서로 연결된 전 세계에서 가장 큰 통신망
* OSI 7계층 중 3계층인 네트워크 프로토콜에 기반을 둔 하나 이상의 네트워크 모임
* 각각의 네트워크는 인터넷 내의 다른 어떤 네트워크와도 통신할 수 있음
* 전 세계적인 TCP / IP 네트워크며, IP 주소체계와 IP 프로토콜을 사용함

### 중요 프로토콜

#### IP

* 네트워크 계층에 존재하는 프로토콜로서, 활용도가 높고 널리 사용됨
* 신뢰성이 없는 프로토콜로, 패킷이 상대방에게 안전하게 전송되는 것을 보장하지 않음
  * 데이터를 효율적으로 전송하는 것에만 집중하기 때문임
* 호스트에 대한 주소체계와 데이터 패킷에 대한 라우팅을 담당함
* 패킷을 수신하는 각 라우터는 패킷의 IP주소를 근간으로 라우팅을 결정함
* IP 주소
  * 32비트 정보로 구성됨
    * Dot(`.`)을 구분자로 해서 8비트씩 네 부분으로 나뉘어짐
    * 일부는 네트워크를 나타내고, 다른 부분은 호스트를 나타냄
  * 현재 IP버전은 IPv4를 사용하고 있으나, IP 주소 자체가 고갈되고 있는 실정임
    * IPv4보다 좀 더 큰 주소 공간이 있는 IPv6에 의해서 해결방법을 찾고 있음

#### TCP

> TransMission Control Protocol

* 신뢰성 있는 프로토콜
* 전송할 데이터가 안전하게 전달되는 것을 보장함
* 전달되는 데이터는 발신자가 보내는 것과 같은 순서로 수신자에게 전달됨
* 흔히 전화통화와 비교함
* TCP는 연결지향 프로토콜로서, 데이터를 전송하거나 수신하기 전에 송신자와 수신자가 연결되어 있어야함
* 송신자
  * 데이터의 무결성을 보장하기 위해 checksum을 포함해서 전달함
* 수신자
  * 발신자가 포함한 checksum을 사용해서 전달받은 데이터를 확인함
  * 누락된 데이터가 있다면 발신자에게 해당 데이터의 재전송을 요청함
* 소켓과 포트를 이용해서 동시에 여러 개의 접속을 지원할 수 있음
* UDP에 비해 프로토콜이 더 복잡하고 속도가 느림
* **신뢰성 있는 데이터 전송이 가능하다는 장점** 때문에 HTTP, FTP, TELNET 등 대부분의 경우 TCP를 사용

#### UDP

> User Datagram Protocol

* 신뢰성 없는 프로토콜
* 전송한 데이터가 잘 전달되었는지 확인하지 않고 데이터를 보내는 것만으로 자신의 임무를 다한 것으로 여김
* 흔히 UDP를 우편배달에 비유함

### 네트워크 프로그래밍 기초

## Network Programming

### TCP 프로그래밍

### UDP 프로그래밍

