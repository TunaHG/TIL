# 성능 데이터 모델링의 개요

## 성능 데이터 모델링의 정의

* 일반적으로 성능이라고 하면 데이터 조회의 성능을 의미
  * 반복적이고 빈번하며 여러 건을 처리하는 경우가 많기 때문
  * 일반적인 트랜잭션의 성격이 조회의 패턴을 가지고 있음
* **성능 데이터 모델링**이란?
  * 데이터베이스 성능향상을 목적으로 설계단계의 데이터 모델링 때부터 정규화, 반정규화, 테이블통합, 테이블분할, 조인구조, PK, FK 등 여러 가지 성능과 관련된 사항이 데이터 모델링에 반영될 수 있도록 하는 것
* 단순히 반정규화만을 의미하지 않음
  * 정규화를 통해서도 수행가능
  * 인덱스의 특징을 고려해서 칼럼의 순서를 변형할 수 있음
  * 이외에도 여러 방법들이 성능 데이터 모델링의 범주에 포함될 수 있음

## 성능 데이터 모델링 수행시점

* 성능 향상을 위한 비용은 프로젝트 수행 중에 있어서 **사전에 할수록** 비용이 들지 않는다.
* **분석/설계단계**에서 데이터 모델에 성능을 고려한 데이터 모델링을 수행할 경우 성능저하에 따른 재업무 비용을 최소화 할 수 있는 기회
* 데이터의 증가가 빠를수록 성능저하에 따른 성능개선비용은 기하급수적으로 증가

## 성능 데이터 모델링 고려사항

1. 데이터 모델링을 할 때 정규화를 정확하게 수행
   * 정규화된 모델이 데이터를 주요 관심사별로 분산시키는 효과가 있기 때문에 그 자체로 성능이 향상
2. 데이터베이스 용량산정을 수행
   * 각각의 엔터티에 어느 정도 트랜잭션이 들어오는지 살펴보기 위함
   * 어떤 엔터티에 데이터가 집중되는지 파악
   * 엔터티별로 데이터가 대용량인지를 구분하게 하기 때문에 테이블에 대한 성능고려를 엄격하게 적용해야 하는지 기준이 될 수 있음
3. 데이터베이스에 발생되는 트랜잭션의 유형을 파악
   * CRUD 매트릭스를 보고 파악할 수 있음
   * 객체지향 모델링을 적용한다면 시퀀스 다이어그램을 보면 트랜잭션의 유형을 파악하기에 용이
   * SQL문장의 조인관계 테이블에서 데이터 조회의 칼럼들을 파악할 수 있게되어 그에 따라 성능을 고려한 데이터 모델을 설계할 수 있음
4. 용량과 트랜잭션의 유형에 따라 반정규화를 수행
   * 테이블, 속성, 관계에 대해 포괄적인 반정규화의 방법을 적용
5. 이력모델의 조정, PK/FK조정, 슈퍼타입/서브타입 조정 등을 수행
   * PK/FK의 순서가 인덱스 특성에 따라 성능에 영향을 미치는 영향도가 큼
   * PK/FK를 성능이 우수한 순서대로 칼럼의 순서를 조정
6. 성능관점에서 데이터 모델을 검증
   * 일반적인 데이터 모델 규칙만을 검증하지 말고 충분하게 성능이 고려되었는지를 체크리스트에 포함하여 검증